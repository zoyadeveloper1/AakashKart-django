{% extends 'base.html' %}
{% load static %}

{% block content %}
<div class="container" style="max-width: 500px; margin-top: 60px;">

    <h2 class="text-center mb-4">Reset Password</h2>

    {% if messages %}
        {% for msg in messages %}
            <div class="alert alert-info">{{ msg }}</div>
        {% endfor %}
    {% endif %}

    <form method="POST" action="">
        {% csrf_token %}

        <!-- New Password -->
        <div class="form-group mb-3">
            <label>New Password</label>
            <input type="password" name="password" class="form-control" placeholder="Enter new password" required autofocus>
        </div>

        <!-- Confirm Password -->
        <div class="form-group mb-3">
            <label>Confirm Password</label>
            <input type="password" name="confirm_password" class="form-control" placeholder="Confirm your password" required>
        </div>

        <button type="submit" class="btn btn-primary w-100">
            Update Password
        </button>
    </form>

    <div class="text-center mt-3">
        <p>Don't have an account? <a href="{% url 'signup' %}">Sign Up</a></p>
        <p><a href="{% url 'login' %}">Back to Login</a></p>
    </div>

</div>

<script>
    document.addEventListener("DOMContentLoaded", function() {
        const pw = document.querySelector("input[name='password']");
        if (pw) pw.focus();
    });
</script>

{% endblock %}
