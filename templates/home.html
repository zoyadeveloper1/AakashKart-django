{% load static %}

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>AakashKart - Home</title>

  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <!-- Custom CSS -->
  <link rel="stylesheet" href="{% static 'css/style.css' %}">
</head>
<body>
   
  <!-- Navbar -->
  <nav class="navbar navbar-expand-lg navbar-dark bg-dark py-3">
    <div class="container">
      <a class="navbar-brand" href="{% url 'home' %}">AakashKart </a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarNav">
        <!-- Left links -->
        <ul class="navbar-nav me-auto mb-2 mb-lg-0">
          <li class="nav-item">
            <a class="nav-link" href="{% url 'home' %}">Home</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="{% url 'store' %}">Store</a>
          </li>
        </ul>

        <!-- Categories Dropdown -->
        <ul class="navbar-nav me-auto mb-2 mb-lg-0">
          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button"
               data-bs-toggle="dropdown" aria-expanded="false">
              All Categories
            </a>
            <ul class="dropdown-menu dropdown-menu-dark" aria-labelledby="navbarDropdown">
              <li><a class="dropdown-item" href="{% url 'store' %}">All Products</a></li>
              {% for category in categories %}
                <li><a class="dropdown-item" href="{{ category.get_url }}">{{ category.category_name }}</a></li>
              {% empty %}
                <li><a class="dropdown-item" href="#">No Categories Available</a></li>
              {% endfor %}
            </ul>
          </li>
        </ul>

        <!-- Search bar -->
        <form class="d-flex mx-3" method="get" action="{% url 'store' %}">
          <input class="form-control me-2" type="search" name="q" placeholder="Search for products, brands and more">
          <button class="btn btn-warning" type="submit">Search</button>
        </form>

        <!-- Right links -->
        <ul class="navbar-nav ms-auto mb-2 mb-lg-0">
          <li class="nav-item">
            <a class="nav-link" href="#">Login</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#">Register</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#">Cart ðŸ›’</a>
          </li>
        </ul>
      </div>
    </div>
  </nav>

  <!-- Sale Banner -->
  <div class="container-fluid position-relative mb-5">
    <img src="{% static 'images/sale banner2.jpg' %}" class="img-fluid w-100" alt="Sale Banner">
    <div class="position-absolute top-50 start-50 translate-middle text-center text-white">
      <h2 class="fw-bold">Mega Sale! Up to 70% Off</h2>
      <p>Don't miss our exclusive deals on top products.</p>
      <a href="#popular-products" class="btn btn-warning btn-sm">Shop Now</a>
    </div>
  </div>

    <!-- Popular Products Section -->
<div class="container my-5" id="popular-products">
  <a href="{% url 'store' %}" class="btn btn-outline-primary float-end mb-3">See All</a>
  <h3 class="mb-4">Popular Products</h3>
  <div class="row g-4">
    {% for product in products %}
      <div class="col-md-3">
        <div class="card product-card h-100">
          {% if product.image %}
            <img src="{{ product.image.url }}" class="card-img-top" alt="{{ product.name }}">
          {% else %}
            <img src="{% static 'images/default-product.jpg' %}" class="card-img-top" alt="{{ product.name }}">
          {% endif %}
          <div class="card-body">
            <h6 class="card-title">{{ product.name }}</h6>
            <p class="text-success fw-bold">${{ product.price }}</p>
            <a href="{{ product.get_url }}" class="btn btn-sm btn-primary">View / Add to Cart</a>
          </div>
        </div>
      </div>
    {% empty %}
      <p class="text-muted">No products available.</p>
    {% endfor %}
  </div>
</div>

      
  <!-- Footer -->
  <footer class="bg-dark text-white text-center py-3">
    <p>&copy; 2025 AakashKart . All Rights Reserved.</p>
  </footer>

  <!-- Bootstrap JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
