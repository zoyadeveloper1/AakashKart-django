<!-- Navbar -->
<nav class="navbar navbar-expand-lg navbar-dark" style="background-color: #232f3e; height: 70px;">
  <div class="container">

    <!-- Brand -->
    <a class="navbar-brand fw-bold fs-4" href="{% url 'home' %}">AakashKart</a>

    <!-- Mobile Toggler -->
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
      aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <!-- Navbar Content -->
    <div class="collapse navbar-collapse" id="navbarNav">

      <!-- Left Links -->
      <ul class="navbar-nav me-auto mb-2 mb-lg-0">
        <li class="nav-item">
          <a class="nav-link text-white fw-semibold px-3" href="{% url 'home' %}">Home</a>
        </li>
        <li class="nav-item">
          {# Use correct store URL name. Remove namespace if not defined #}
          <a class="nav-link text-white fw-semibold px-3" href="{% url 'store:store' %} ">Store</a>
        </li>
      </ul>

      <!-- Center Search Bar -->
      <form class="d-flex mx-lg-auto my-2 my-lg-0" method="get"
            action="{% url 'store:search' %}" style="max-width: 450px; width: 100%;">
        <input class="form-control me-2" type="search" name="keyword" placeholder="Search products, brands..."
               value="{{ query|default:'' }}">
        <button class="btn btn-warning fw-semibold" type="submit">Search</button>
      </form>

      <!-- Right Links -->
      <ul class="navbar-nav ms-auto mb-2 mb-lg-0">
        {% if user.is_authenticated %}
          <li class="nav-item">
            <a class="nav-link text-white fw-semibold px-3" href="{% url 'dashboard' %}">Dashboard</a>
          </li>
          <li class="nav-item">
            <a class="nav-link text-white fw-semibold px-3" href="{% url 'logout' %}">Logout</a>
          </li>
        {% else %}
          <li class="nav-item">
            <a class="nav-link text-white fw-semibold px-3" href="{% url 'login' %}">Login</a>
          </li>
          <li class="nav-item">
            <a class="nav-link text-white fw-semibold px-3" href="{% url 'register' %}">Register</a>
          </li>
        {% endif %}
        <li class="nav-item">
          <a class="nav-link text-white fw-semibold px-3" href="{% url 'carts:cart' %}">Cart ðŸ›’</a>
        </li>
      </ul>

    </div>
  </div>
</nav>

<!-- Custom CSS for better alignment -->
<style>
  /* Responsive search bar on mobile */
  @media (max-width: 992px) {
    .navbar .d-flex {
      width: 100%;
      margin: 10px 0;
    }
  }

  /* Navbar link spacing + style */
  .navbar-nav .nav-link {
    font-size: 0.95rem;
    transition: all 0.3s ease;
  }

  .navbar-nav .nav-link:hover {
    text-decoration: underline;
  }

  /* Brand font adjust for small screens */
  @media (max-width: 576px) {
    .navbar-brand {
      font-size: 1.3rem;
    }
  }
</style>
